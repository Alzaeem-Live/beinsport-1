<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>اون تايم سبورت 2 on time sport</title>

  <!-- روابط مكتبات Clappr الرسمية -->
  <script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/clappr-level-selector@latest/dist/level-selector.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/clappr-hlsjs-playback@latest/dist/hlsjs-playback.min.js"></script>

  <style>
    body {
      margin: 0;
      background: #000;
      font-family: sans-serif;
      direction: rtl;
    }

    ul.albaplayer_name {
      display: flex;
      justify-content: flex-end;
      padding: 0 10px;
      list-style: none;
      margin: 0;
      background: #000;
    }

    ul.albaplayer_name li {
      margin: 5px 5px;
    }

    ul.albaplayer_name a {
      background: #552a86;
      color: #fff;
      padding: 8px 14px;
      border-radius: 4px;
      font-weight: 600;
      cursor: pointer;
      display: block;
      transition: background-color 0.3s;
      text-decoration: none;
    }

    ul.albaplayer_name a.active,
    ul.albaplayer_name a:hover {
      background-color: #9e1414;
      color: #fff;
    }

    #video-player-container {
      width: 100vw;
      height: calc(100vh - 50px);
      background: #000;
    }

    /* زر المشاركة */
    .albaplayer_videos_channel {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000;
      color: #fff;
    }

    .button {
      background: #9e1414;
      padding: 6px 10px;
      border-radius: 3px;
      cursor: pointer;
      font-weight: 700;
      user-select: none;
    }

    #showother {
      position: absolute;
      top: 40px;
      left: 10px;
      background: rgba(0,0,0,0.8);
      padding: 10px;
      border-radius: 5px;
      display: none;
      max-width: 300px;
      color: #eee;
    }

    #albaplayer_player_share {
      width: 100%;
      height: 80px;
      background: #333;
      border: none;
      color: #eee;
      padding: 10px;
      resize: vertical;
      font-family: monospace;
      border-radius: 4px;
    }

    .custom-btn {
      background-color: #552a86;
      color: #fff;
      border: none;
      padding: 8px 15px;
      border-radius: 3px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 6px;
      width: 100%;
      transition: background-color 0.3s;
    }

    .custom-btn:hover {
      background-color: #6a3e9c;
    }
  </style>
</head>
<body>

<ul class="albaplayer_name">
  <li><a href="javascript:void(0)" data-url="https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8" class="active">بث 1</a></li>
  <li><a href="javascript:void(0)" data-url="https://example.com/stream2.m3u8">بث 2</a></li>
  <li><a href="javascript:void(0)" data-url="https://example.com/stream3.m3u8">بث 3</a></li>
  <li><a href="javascript:void(0)" data-url="https://example.com/stream4.m3u8">بث 4</a></li>
  <li><a href="javascript:void(0)" data-url="https://example.com/stream5.m3u8">بث 5</a></li>
</ul>

<div id="video-player-container"></div>

<div class="albaplayer_videos_channel">
  <div class="button" onclick="location.reload()">تحديث</div>
  <div class="button" id="showshareBtn" onclick="toggleShare()">مشاركة</div>

  <div id="showother">
    <div class="button" onclick="toggleShare()">اغلاق</div>
    <div class="albaplayer_share_title" style="margin-top:10px;">كود التضمين</div>
    <textarea id="albaplayer_player_share" readonly onclick="this.select()"><iframe allowfullscreen="true" frameborder="0" height="500px" scrolling="1" src="https://dd.alkoora.live/albaplayer/on-time-sport-2/" width="100%"></iframe></textarea>
    <button class="custom-btn" onclick="copyEmbedCode()">انقر للنسخ</button>
  </div>
</div>

<script>
  const links = document.querySelectorAll('.albaplayer_name a');
  const playerContainer = document.getElementById('video-player-container');
  let player;

  // تهيئة المشغل بالبث الافتراضي
  function initPlayer(url) {
    if(player) {
      player.destroy();
    }
    player = new Clappr.Player({
      source: url,
      parentId: '#video-player-container',
      autoPlay: true,
      width: '100%',
      height: '100%',
      plugins: [ClapprLevelSelector, HlsjsPlayback],
      levelSelectorConfig: { title: 'الجودة' },
      mediacontrol: { seekbar: '#00ff00' }
    });
  }

  // بدء التشغيل بالبث الافتراضي
  initPlayer(document.querySelector('.albaplayer_name a.active').dataset.url);

  // تغيير البث عند الضغط على أي زر
  links.forEach(link => {
    link.addEventListener('click', () => {
      // إزالة class active من الكل
      links.forEach(l => l.classList.remove('active'));
      link.classList.add('active');

      const url = link.dataset.url;
      initPlayer(url);
    });
  });

  // عرض / إخفاء صندوق المشاركة
  function toggleShare() {
    const showOther = document.getElementById('showother');
    const showShareBtn = document.getElementById('showshareBtn');
    if(showOther.style.display === 'block') {
      showOther.style.display = 'none';
      showShareBtn.style.display = 'inline-block';
    } else {
      showOther.style.display = 'block';
      showShareBtn.style.display = 'none';
    }
  }

  // نسخ كود التضمين
  function copyEmbedCode() {
    const textarea = document.getElementById('albaplayer_player_share');
    textarea.select();
    navigator.clipboard.writeText(textarea.value).then(() => {
      alert('تم نسخ كود التضمين');
    });
  }
</script>

</body>
</html>
